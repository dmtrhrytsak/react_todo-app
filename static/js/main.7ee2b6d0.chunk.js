(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],[,,,,,,,,,,,,,,,,function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){},function(e,t,o){"use strict";o.r(t);var c,n,a=o(9),r=o.n(a),s=o(3),d=o(2);!function(e){e.ADD_TODO="add-todo",e.TOGGLE_TODO="toggle-todo",e.DELETE_TODO="delete-todo",e.CHANGE_TODO="change-todo",e.CLEAR_COMPLETED_TODOS="clear-completed-todoS",e.COMPLETE_ALL_TODOS="complete-all-todoS"}(c||(c={})),function(e){e.ALL="all",e.UNCOMPLETED="uncompleted",e.COMPLETED="completed"}(n||(n={}));var i=o(4),l=o(10),u=o(0);var O=o(1),p=Object(u.createContext)(null);function j(e,t){switch(t.type){case c.ADD_TODO:return[].concat(Object(l.a)(e),[{id:Date.now(),title:t.payload,completed:!1}]);case c.TOGGLE_TODO:return e.map((function(e){return e.id===t.payload?Object(i.a)(Object(i.a)({},e),{},{completed:!e.completed}):e}));case c.DELETE_TODO:return e.filter((function(e){return e.id!==t.payload}));case c.CHANGE_TODO:return e.map((function(e){return e.id===t.payload.id?Object(i.a)(Object(i.a)({},e),{},{title:t.payload.newTitle}):e}));case c.CLEAR_COMPLETED_TODOS:return e.filter((function(e){return!e.completed}));case c.COMPLETE_ALL_TODOS:return e.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{completed:!0})}));default:return e}}var b,T=function(e){var t=e.children,o=function(e,t){var o=Object(u.useState)((function(){var o=localStorage.getItem(t);return o?JSON.parse(o):e})),c=Object(d.a)(o,2),n=c[0],a=c[1];return Object(u.useEffect)((function(){localStorage.setItem(t,JSON.stringify(n))}),[n]),[n,a]}([],"todos"),c=Object(d.a)(o,2),n=c[0],a=c[1],r=Object(u.useReducer)(j,n),s=Object(d.a)(r,2),i=s[0],l=s[1],b=Object(u.useMemo)((function(){return{todos:i,dispatchTodos:l}}),[i,l]);return Object(u.useEffect)((function(){a(i)}),[i]),Object(O.jsx)(p.Provider,{value:b,children:t})},f=function(){var e=Object(u.useContext)(p);if(!e)throw new Error("Todo Context must be used inside a TodoProvider!");return e},m=o(7),_=o.n(m),E=function(e){var t=Object(u.useState)(e),o=Object(d.a)(t,2),c=o[0],n=o[1],a=Object(u.useState)(!1),r=Object(d.a)(a,2),s=r[0],i=r[1];return[c,s,i,function(e){var t=e.target.value;i(!1),t.length>=35||n(t)},function(){n("")}]},h=(o(16),function(e){var t=e.className,o=f().dispatchTodos,n=E(""),a=Object(d.a)(n,5),r=a[0],s=a[1],i=a[2],l=a[3],u=a[4];return Object(O.jsxs)("form",{className:_()("TodoAdd",t),onSubmit:function(e){e.preventDefault(),function(){var e=r.trim();return i(!e),e.length}()&&o({type:c.ADD_TODO,payload:r.trim()}),u()},children:[Object(O.jsx)("input",{type:"text",value:r,placeholder:"What do you need to do?",className:"TodoAdd__input",onChange:l}),s&&Object(O.jsx)("p",{className:"TodoAdd__title-error",children:"Todo can't be empty"})]})}),x=(o(17),function(e){var t=e.id,o=e.isChecked,n=f().dispatchTodos;return Object(O.jsx)("button",{type:"button",className:_()("TodoCheckBox",{"TodoCheckBox--checked":o}),onClick:function(){n({type:c.TOGGLE_TODO,payload:t})},children:o&&Object(O.jsx)("div",{className:"TodoCheckBox__inner-circle"})})});!function(e){e.VIEW="view",e.EDIT="edit"}(b||(b={}));o(18);var D=function(e){var t=e.id,o=e.title,n=e.toggleMode,a=f().dispatchTodos,r=E(o),s=Object(d.a)(r,4),i=s[0],l=s[2],p=s[3],j=Object(u.useRef)(null);Object(u.useLayoutEffect)((function(){j.current&&j.current.focus()}),[]);var T=function(){n(b.VIEW);var e=i.trim();e?a({type:c.CHANGE_TODO,payload:{id:t,newTitle:e}}):l(!0)};return Object(O.jsx)("input",{type:"text",ref:j,value:i,className:"EditTodo",onChange:p,onKeyDown:function(e){"Enter"===e.key?T():"Escape"===e.key&&n(b.VIEW)},onBlur:T})},v=o.p+"static/media/delete-icon.7c4ae41d.svg",C=(o(19),function(e){var t=e.id,o=e.title,n=e.completed,a=f().dispatchTodos,r=Object(u.useState)(!1),s=Object(d.a)(r,2),i=s[0],l=s[1],p=Object(u.useState)(b.VIEW),j=Object(d.a)(p,2),T=j[0],m=j[1],_=function(e){m(e)};return Object(O.jsxs)("li",{className:"TodoItem",onMouseEnter:function(){return l(!0)},onMouseLeave:function(){return l(!1)},onDoubleClick:function(){return _(b.EDIT)},children:[Object(O.jsxs)("div",{className:"TodoItem__content",children:[Object(O.jsx)(x,{id:t,isChecked:n}),T===b.VIEW?Object(O.jsx)("p",{className:"TodoItem__title",children:o}):Object(O.jsx)(D,{id:t,title:o,toggleMode:_})]}),i&&Object(O.jsx)("button",{type:"button",className:"TodoItem__delete-btn",onClick:function(){return a({type:c.DELETE_TODO,payload:t})},children:Object(O.jsx)("img",{src:v,alt:"Delete",className:"TodoItem__delete-icon"})})]})}),N=(o(20),function(e){var t=e.todos;return Object(O.jsx)("ul",{className:"TodoList",children:t.map((function(e){var t=e.id,o=e.title,c=e.completed;return Object(O.jsx)(C,{id:t,title:o,completed:c},t)}))})}),L=(o(21),function(){return Object(O.jsxs)("div",{className:"TodoFilter",children:[Object(O.jsx)(s.b,{to:"/",className:"TodoFilter__status",children:"All"}),Object(O.jsx)(s.b,{to:"/?status=uncompleted",className:"TodoFilter__status",children:"Uncompleted"}),Object(O.jsx)(s.b,{to:"/?status=completed",className:"TodoFilter__status",children:"Completed"})]})});o(22);var y=function(){var e=Object(s.c)(),t=Object(d.a)(e,1)[0],o=f(),a=o.todos,r=o.dispatchTodos,i=function(e,t){switch(t){case n.COMPLETED:return e.filter((function(e){return e.completed}));case n.UNCOMPLETED:return e.filter((function(e){return!e.completed}));default:return e}}(a,t.get("status")||n.ALL),l=a.filter((function(e){return!e.completed})).length;return Object(O.jsx)("div",{className:"TodoApp",children:Object(O.jsxs)("article",{className:"TodoApp__todo-app",children:[Object(O.jsx)(h,{className:"TodoApp__todo-add"}),Object(O.jsx)("div",{className:"TodoApp__upper-actions",children:Object(O.jsxs)("div",{className:"TodoApp__upper-actions-wrapper",children:[Object(O.jsx)("button",{type:"button",className:"TodoApp__upper-action TodoApp__upper-action--complete",onClick:function(){return r({type:c.COMPLETE_ALL_TODOS})},children:"Complete all tasks"}),Object(O.jsx)("button",{type:"button",className:"TodoApp__upper-action TodoApp__upper-action--clear",onClick:function(){return r({type:c.CLEAR_COMPLETED_TODOS})},children:"Clear completed"})]})}),i.length>0&&Object(O.jsx)(N,{todos:i}),Object(O.jsxs)("div",{className:"TodoApp__lower-actions",children:[Object(O.jsxs)("p",{className:"TodoApp__todos-left",children:[Object(O.jsx)("span",{className:"TodoApp__todos-count",children:l}),"tasks left"]}),Object(O.jsx)(L,{})]})]})})};o(23);r.a.render(Object(O.jsx)(s.a,{children:Object(O.jsx)(T,{children:Object(O.jsx)(y,{})})}),document.getElementById("root"))}],[[24,1,2]]]);
//# sourceMappingURL=main.7ee2b6d0.chunk.js.map